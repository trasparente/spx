{%- assign names = "" | split: "" -%}
{% for l in crewed_launches %}{% assign capsule = site.data.capsules | where: "id", l.capsules[0] | first | map: "serial" %}{% assign booster = site.data.cores | where: "id", l.cores[0].core | first | map: "serial" %}{% assign title = forloop.index | append: " - " | append: booster[0] | append: " / " | append: capsule[0] %}{% assign names = names | push: title %}{% assign crews = crews | plus: l.crew.size %}{% for cr in l.crew %}{% assign member = site.data.crew | where: "id", cr %}{% assign name = member.first.agency | append: " &rarr; " | append: member.first.name | append: " (" | append: member.first.launches.size | append: ")" %}{% assign names = names | push: name %}{% endfor %}{% unless forloop.last %}{% assign names = names | push: "---" %}{%- endunless -%}{% endfor %}<span title="{{ names | join: '&#13;' }}">{{ crews }}</span>